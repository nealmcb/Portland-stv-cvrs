# Portland 2025 Ranked-Choice Election: Printable Vote Abstracts

This directory contains lossless, prefix-compressed abstracts of votes for the Portland 2025 City Council elections.

## Purpose

These abstracts serve as the official, human-readable, paper-archivable record of the preference profiles from the ranked-choice voting elections. They are designed to be:

- **Lossless**: Enable exact reconstruction of election tallies
- **Deterministic**: Same input always produces same output
- **Human-readable**: Plain ASCII text, no special tools required
- **Vendor-neutral**: Independent of any voting system vendor
- **Compact**: Prefix compression reduces paper consumption

## Files

- `Portland_D1_abstract.txt` - District 1 (3 seats, 43,669 ballots)
- `Portland_D2_abstract.txt` - District 2 (3 seats, 77,686 ballots)
- `Portland_D3_abstract.txt` - District 3 (3 seats, 85,115 ballots)
- `Portland_D4_abstract.txt` - District 4 (3 seats, 77,332 ballots)

## Format Description

Each abstract file contains:

### Header Section
- Contest name and election details
- Number of seats (3 for all districts)
- Total ballots with rankings
- Count of unique ranking expressions

### Candidate Legend
Maps short candidate slugs (3-6 character codes) to full candidate names. Candidates are ordered by first-place votes (descending), with the most popular candidates getting first position. Slugs are derived from candidate last names for readability.

Example:
```
AVA  Candace Avalos
SMI  Loretta Smith
DUN  Jamie Dunphy
```

### Preference Profile (Prefix-Compressed)

The core data: all unique ranking expressions and their counts.

**Format**: `<ranking expression> : <count>`

**Symbol**: `>` means "preferred over"

Example:
```
AVA > SMI > DUN : 152
```
This means 152 ballots ranked Candace Avalos (AVA) first, Loretta Smith (SMI) second, and Jamie Dunphy (DUN) third.

#### Prefix Compression

When multiple rankings share a common prefix, they are grouped together:

```
PREFIX: AVA > SMI
--------------------------------------------------------------------------------
  (exact match) : 45
  ... > DUN : 152
  ... > DUN > ERN : 38
  ... > ROU : 67
```

This means:
- 45 ballots: `AVA > SMI` (exact match, no additional choices)
- 152 ballots: `AVA > SMI > DUN`
- 38 ballots: `AVA > SMI > DUN > ERN`
- 67 ballots: `AVA > SMI > ROU`

## Sorting Rules

Rankings are sorted **lexicographically** by candidate order:

1. Candidates are first sorted by first-place votes (descending) - most popular candidates first
2. Each candidate gets a unique 3-6 character slug derived from their last name (e.g., AVA for Avalos, SMI for Smith)
3. Rankings are sorted by comparing candidate positions (based on first-place vote order)
4. Shorter rankings come before longer rankings with the same prefix

This ensures:
- **Deterministic output**: Same data always produces same order
- **Natural grouping**: Similar voting patterns cluster together, with popular candidates appearing first
- **Efficient compression**: Common prefixes involving popular candidates are easily identified
- **Human readability**: Slugs based on last names are more memorable than sequential numbers

## Lossless Property

These abstracts are **lossless** because:

1. **Complete**: Every ballot is represented exactly once
2. **No aggregation loss**: The count for each unique ranking is preserved
3. **Reconstructible**: The original preference profile can be perfectly reconstructed
4. **Verifiable**: Total ballot count matches sum of all ranking counts

### Verification

Each abstract includes verification information at the end:
```
Total ranking expressions: 18895
Total ballots: 43669
```

You can verify losslessness by:
1. Sum all ranking counts - should equal total ballots
2. Each ranking expression appears exactly once
3. No information is discarded (except overvotes, undervotes, write-ins per cleaning rules)

## Recount-Sufficient

These abstracts contain **all information needed to recount** the election:

- ✅ Every valid ranking expression
- ✅ Count of ballots for each expression
- ✅ Complete candidate roster
- ✅ Deterministic, reproducible format

To perform a recount:
1. Read the candidate legend
2. Parse each ranking expression and its count
3. Apply the Single Transferable Vote (STV) algorithm
4. Results should match original tabulation

## Generation Script

Generated by: `3_generate_abstracts.py`

The script:
1. Reads CVR data from `raw_votekit_csv/` directory
2. Removes overvotes and write-ins (per cleaning rules)
3. Builds preference profile (ranking → count)
4. Sorts rankings lexicographically
5. Identifies common prefixes for compression
6. Outputs plain text abstract

## Print Specifications

### Estimated Page Counts (assuming 60 lines per page)

| District | Lines  | Pages (1-col) | Pages (2-col) | Pages (3-col) |
|----------|--------|---------------|---------------|---------------|
| D1       | 19,002 | 317           | 159           | 106           |
| D2       | 41,240 | 687           | 344           | 229           |
| D3       | 40,867 | 681           | 341           | 227           |
| D4       | 38,421 | 640           | 320           | 213           |

### Printing Recommendations

- **Font**: Monospace (Courier, Consolas, or similar)
- **Size**: 10pt for 2-column, 8pt for 3-column
- **Paper**: Letter (8.5" × 11") or A4
- **Margins**: 0.5" all sides for multi-column
- **Line spacing**: Single
- **Columns**: 2 or 3 for optimal paper usage

### Multi-Column Command (Linux/Unix)

```bash
# 2-column layout
pr -2 -t -w 160 Portland_D1_abstract.txt | lpr

# 3-column layout
pr -3 -t -w 240 Portland_D1_abstract.txt | lpr
```

## Use Cases

### For Election Officials
- Official record of preference profiles
- Basis for manual recounts
- Archive for historical reference
- Evidence in audits or legal proceedings

### For Auditors
- Verify election results independently
- Check for counting errors
- Validate STV algorithm implementation
- Statistical analysis of voting patterns

### For Historians
- Study voting behavior over time
- Analyze preference ordering patterns
- Research ranked-choice voting dynamics
- Compare elections across years

### For Lawyers
- Evidence in election disputes
- Clear documentation of vote counts
- Vendor-neutral format (no proprietary dependencies)
- Human-readable without special software

## Technical Notes

### Line Length
- Maximum line length: 80 characters
- Safe for standard terminal display
- Compatible with legacy systems
- Easy to read on paper

### Character Encoding
- ASCII text only
- No special characters required
- Universal compatibility
- Long-term preservation safe

### File Size
- Text compression not used (for human readability)
- File sizes: 0.5 - 1.2 MB per district
- Easily transmitted, stored, and archived

## Legal Interpretation

For jurisdictions using ranked-choice voting, an **"abstract of votes"** traditionally lists:
- Contest name
- Candidates
- Vote counts

For ranked voting, the legal analogue is the **preference profile**, which this document provides in full detail.

These abstracts satisfy legal requirements for:
- Public records of election results
- Recount capability
- Audit trails
- Historical preservation

## Questions or Issues

For questions about these abstracts, see:
- Generation script: `../3_generate_abstracts.py`
- Original CVR data: `../raw_votekit_csv/`
- Data cleaning process: `../2_clean_profiles.py`

---

**Generated**: December 2024  
**Election**: City of Portland, Oregon - November 2024 General Election  
**Method**: Single Transferable Vote (STV)  
**Seats per District**: 3
